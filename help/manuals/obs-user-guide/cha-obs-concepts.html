<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><title>OBS Concepts | User Guide</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.dc" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.dcterms" href="http://purl.org/dc/terms/"/>
<meta name="dcterms.modified" content=""/><meta name="dcterms.created" content=""/><meta name="title" content="OBS Concepts"/>
<meta name="description" content="OBS Concepts"/>
<meta name="book-title" content="User Guide"/>
<meta name="chapter-title" content="Chapter 23. OBS Concepts"/>
<meta name="tracker-url" content="https://github.com/openSUSE/obs-docu/issues/new"/>
<meta name="tracker-type" content="gh"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="OBS Concepts"/>
<meta property="og:description" content="OBS Concepts"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OBS Concepts"/>
<meta name="twitter:description" content="OBS Concepts"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Products &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "OBS Concepts",
  
    "description": "OBS Concepts",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-obs-architecture.html" title="Chapter 22. OBS Architecture"/><link rel="next" href="cha-obs-build-process.html" title="Chapter 24. Build Process"/><link type="text/css" rel="preload" as="style" onload="this.rel='stylesheet'" href="https://documentation.suse.com/docserv/res/fonts/suse/suse.css"/><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.js" type="text/javascript"> </script><script>hljs.highlightAll();</script></head><body class="wide offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"/></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">User Guide</a><span> / </span><a class="crumb" href="par-reference.html">Reference</a><span> / </span><a class="crumb" href="cha-obs-concepts.html">OBS Concepts</a></div></div><main id="_content"><nav id="_side-toc-overall" tabindex="0" class="side-toc"><div class="side-title">User Guide</div><ol role="list"><li role="listitem"><a href="bk01pr01.html" class=" "><span class="title-number"> </span><span class="title-name">About this Guide</span></a></li><li role="listitem"><a href="par-first-steps.html" class="has-children "><span class="title-number">I </span><span class="title-name">First Steps</span></a><ol role="list"><li role="listitem"><a href="art-obs-bg.html" class=" "><span class="title-number">1 </span><span class="title-name">Beginnerʼs Guide</span></a></li></ol></li><li role="listitem"><a href="par-concepts.html" class="has-children "><span class="title-number">II </span><span class="title-name">Concepts</span></a><ol role="list"><li role="listitem"><a href="cha-obs-package-formats.html" class=" "><span class="title-number">2 </span><span class="title-name">Supported Build Recipes and Package Formats</span></a></li></ol></li><li role="listitem"><a href="bk01pt03.html" class="has-children "><span class="title-number">III </span><span class="title-name">Setup</span></a><ol role="list"><li role="listitem"><a href="cha-obs-osc.html" class=" "><span class="title-number">3 </span><span class="title-name">osc, the Command Line Tool</span></a></li><li role="listitem"><a href="cha-obs-prjconfig.html" class=" "><span class="title-number">4 </span><span class="title-name">Build Configuration</span></a></li></ol></li><li role="listitem"><a href="par-working.html" class="has-children "><span class="title-number">IV </span><span class="title-name">Usage</span></a><ol role="list"><li role="listitem"><a href="cha-obs-basicworkflow.html" class=" "><span class="title-number">5 </span><span class="title-name">Basic OBS Workflow</span></a></li><li role="listitem"><a href="cha-obs-local-building.html" class=" "><span class="title-number">6 </span><span class="title-name">Local Building</span></a></li><li role="listitem"><a href="cha-obs-source-services.html" class=" "><span class="title-number">7 </span><span class="title-name">Using Source Services</span></a></li><li role="listitem"><a href="cha-obs-scm-ci-workflow-integration.html" class=" "><span class="title-number">8 </span><span class="title-name">SCM/CI Workflow Integration</span></a></li><li role="listitem"><a href="cha-obs-stagingworkflow.html" class=" "><span class="title-number">9 </span><span class="title-name">Staging Workflow</span></a></li><li role="listitem"><a href="cha-obs-notifications.html" class=" "><span class="title-number">10 </span><span class="title-name">Notifications</span></a></li><li role="listitem"><a href="cha-obs-moderation.html" class=" "><span class="title-number">11 </span><span class="title-name">Moderation</span></a></li><li role="listitem"><a href="cha-obs-labels.html" class=" "><span class="title-number">12 </span><span class="title-name">Labels</span></a></li></ol></li><li role="listitem"><a href="par-best-practices.html" class="has-children "><span class="title-number">V </span><span class="title-name">Best Practices</span></a><ol role="list"><li role="listitem"><a href="cha-obs-best-practices-webuiusage.html" class=" "><span class="title-number">13 </span><span class="title-name">Using the OBS Web UI</span></a></li><li role="listitem"><a href="cha-obs-best-practices-basics.html" class=" "><span class="title-number">14 </span><span class="title-name">Basic Concepts and Work Styles</span></a></li><li role="listitem"><a href="cha-obs-best-practices-scm-integration.html" class=" "><span class="title-number">15 </span><span class="title-name">How to integrate external SCM sources</span></a></li><li role="listitem"><a href="cha-obs-best-practices-upstream.html" class=" "><span class="title-number">16 </span><span class="title-name">Publishing Upstream Binaries</span></a></li><li role="listitem"><a href="cha-obs-best-practices-bootstrapping.html" class=" "><span class="title-number">17 </span><span class="title-name">Bootstrapping</span></a></li><li role="listitem"><a href="cha-obs-best-practices-oscexamples.html" class=" "><span class="title-number">18 </span><span class="title-name"><code class="command">osc</code> Example Commands</span></a></li><li role="listitem"><a href="cha-obs-best-practices-advanced.html" class=" "><span class="title-number">19 </span><span class="title-name">Advanced Project Setups</span></a></li><li role="listitem"><a href="cha-obs-best-practices-kmp.html" class=" "><span class="title-number">20 </span><span class="title-name">Building Kernel Modules</span></a></li><li role="listitem"><a href="cha-obs-best-practices-howto.html" class=" "><span class="title-number">21 </span><span class="title-name">Common Questions and Solutions</span></a></li></ol></li><li role="listitem" class="active"><a href="par-reference.html" class="has-children you-are-here"><span class="title-number">VI </span><span class="title-name">Reference</span></a><ol role="list"><li role="listitem"><a href="cha-obs-architecture.html" class=" "><span class="title-number">22 </span><span class="title-name">OBS Architecture</span></a></li><li role="listitem"><a href="cha-obs-concepts.html" class=" you-are-here"><span class="title-number">23 </span><span class="title-name">OBS Concepts</span></a></li><li role="listitem"><a href="cha-obs-build-process.html" class=" "><span class="title-number">24 </span><span class="title-name">Build Process</span></a></li><li role="listitem"><a href="cha-obs-build-containers.html" class=" "><span class="title-number">25 </span><span class="title-name">Build Containers</span></a></li><li role="listitem"><a href="cha-obs-source-management.html" class=" "><span class="title-number">26 </span><span class="title-name">Source Management</span></a></li><li role="listitem"><a href="cha-obs-scm-bridge.html" class=" "><span class="title-number">27 </span><span class="title-name">SCM Bridge</span></a></li><li role="listitem"><a href="cha-obs-supported-formats.html" class=" "><span class="title-number">28 </span><span class="title-name">Supported Formats</span></a></li><li role="listitem"><a href="cha-obs-request-and-review-system.html" class=" "><span class="title-number">29 </span><span class="title-name">Request and Review System</span></a></li><li role="listitem"><a href="cha-obs-image-templates.html" class=" "><span class="title-number">30 </span><span class="title-name">Image Templates</span></a></li><li role="listitem"><a href="cha-obs-multibuild.html" class=" "><span class="title-number">31 </span><span class="title-name">Multiple Build Description File Handling</span></a></li><li role="listitem"><a href="cha-obs-maintenance-setup.html" class=" "><span class="title-number">32 </span><span class="title-name">Maintenance Support</span></a></li><li role="listitem"><a href="cha-obs-binary-tracking.html" class=" "><span class="title-number">33 </span><span class="title-name">Binary Package Tracking</span></a></li><li role="listitem"><a href="cha-obs-build-scheduling-and-dispatching.html" class=" "><span class="title-number">34 </span><span class="title-name">Scheduling and Dispatching</span></a></li><li role="listitem"><a href="cha-obs-build-constraints.html" class=" "><span class="title-number">35 </span><span class="title-name">Build Constraints</span></a></li><li role="listitem"><a href="cha-obs-build-preinstall.html" class=" "><span class="title-number">36 </span><span class="title-name">Building Preinstall Images</span></a></li><li role="listitem"><a href="cha-obs-authorization-token.html" class=" "><span class="title-number">37 </span><span class="title-name">Authorization</span></a></li><li role="listitem"><a href="cha-obs-qa-hooks.html" class=" "><span class="title-number">38 </span><span class="title-name">Quality Assurance(QA) Hooks</span></a></li></ol></li><li role="listitem"><a href="obs-glossary.html" class=" "><span class="title-number"> </span><span class="title-name">Glossary</span></a></li><li role="listitem"><a href="bk01apa.html" class=" "><span class="title-number">A </span><span class="title-name">GNU Licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section class="chapter" id="cha-obs-concepts" data-id-title="OBS Concepts"><div class="titlepage"><div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">23 </span><span class="title-name">OBS Concepts</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> We describe here the high-level concepts: how Open Build Service is
  designed, manages its content and is supposed to work. </p><section class="sect1" id="id-1.2.10.3.4" data-id-title="Project Organization"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">23.1 </span><span class="title-name">Project Organization</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.4">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> All sources and binaries which are hosted inside of OBS are organized
   into projects. A project is the container defining a larger task. It defines
   who is working there. </p><section class="sect2" id="id-1.2.10.3.4.3" data-id-title="Project Metadata"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.1.1 </span><span class="title-name">Project Metadata</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.4.3">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> A project is configured in the project
     <code class="command">/source/$PROJECT/_meta</code> path. It can be edited in the
    web interface using the <code class="command">RAW Config</code> tab or via command
    line with </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc meta prj -e $PROJECT</code></pre></div><p>This file contains: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> Generic description data in <code class="command">title</code> and
       <code class="command">description</code> elements. </p></li><li class="listitem"><p> An ACL list of users and groups connected with a role. The
       <code class="command">maintainer</code> role defines the list of users permitted
      to commit changes to the project. </p></li><li class="listitem"><p> A number of flags controlling the build and publishing process
      and possible read access protections. </p></li><li class="listitem"><p> A list of repositories to be created. This list defines what
      other repositories should be used, which architectures shall be built and
      build job scheduling parameters. </p></li></ul></div><p> The following flags can be used to control the behavior of a package
    or project. Most of them can also be limited to specified repositories or
    architectures. </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><code class="command">build</code> defines whether package sources should
      get built. If enabled, it signals the scheduler to trigger server-side
      builds based on events like source changes, changes of packages used in
      the build environment or manual rebuild triggers. A local build via CLI
      is possible independent of this flag. Default is enabled. </p></li><li class="listitem"><p><code class="command">publish</code> can be used to enable or disable
      publishing the build result as repository. This happens after an entire
      repository has finished building for an architecture. A publish also gets
      triggered when the publish flag is enabled after a repository finishes
      the build. Default is enabled. </p></li><li class="listitem"><p><code class="command">debuginfo</code> can be used to modify the build
      process to create debuginfo data along with the package build for later
      debugging purposes. Changing this flag does not trigger rebuilds, it just
      affects the next build. Default is disabled. </p></li><li class="listitem"><p><code class="command">useforbuild</code> is used to control if a built
      result shall be copied to the build pool. This means it will get used for
      other builds in their build environment. When this is disabled, the build
      has no influence on builds of other packages using this repository. In
      case a previous build exists the old binaries will be used. Disabling this
      flag also means that "wipe" commands to remove binary files will have no
      effect on the build pool. Changing this flag does not trigger rebuilds,
      it just affects the next build. Default is enabled. </p></li><li class="listitem"><p><code class="command">access</code> flag can be used to hide an entire
      project. This includes binaries and sources. It can only be used at
      project creation time and can just be enabled (making it public again)
      afterwards. This flag can only be used on projects. Default is enabled.
     </p></li><li class="listitem"><p><code class="command">sourceaccess</code> flag can be used to hide the
      sources, but still show the existence of a project or package. This also
      includes debug packages in case the distribution is supporting this
      correctly. This flag can only be used at package creation time. There is
      no code yet which checks for possible references to this package. Default
      is enabled. </p></li><li class="listitem"><p><code class="command">downloadbinary</code> permission still exists like
      before. However, unlike "access" and "sourceaccess" this is not a
      security feature. It is just a convenience feature, which makes it
      impossible to get the binaries via the API directly. But it is still
      possible to get the binaries via build time in any case. Default is
      enabled. </p></li></ul></div></section><section class="sect2" id="id-1.2.10.3.4.4" data-id-title="Project Build Configuration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.1.2 </span><span class="title-name">Project Build Configuration</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.4.4">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    A project is configured in the project
    <code class="command">/source/$PROJECT/_config</code> path. It can be edited in web
    interface in the <code class="command">Project Config</code> tab or via one of the
    following command lines
   </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc meta prjconf -e $PROJECT</code>
<code class="command">osc co $PROJECT _project</code></pre></div><p>
    The build configuration is used to tell the OBS how to set up the build
    environment, and is explained in <a class="xref" href="cha-obs-prjconfig.html" title="Chapter 4. Build Configuration">Chapter 4, <em>Build Configuration</em></a>.
   </p></section><section class="sect2" id="id-1.2.10.3.4.5" data-id-title="Project Build Macro Configuration"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.1.3 </span><span class="title-name">Project Build Macro Configuration</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.4.5">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    The macro configuration is part of the build configuration in
    <code class="command">/source/$PROJECT/_config</code>. It can be added at the end
    after a <code class="command">Macros:</code> line.
   </p><p>
    The build configuration is used to tell the OBS how to set up the build
    environment, and is explained in <a class="xref" href="cha-obs-prjconfig.html" title="Chapter 4. Build Configuration">Chapter 4, <em>Build Configuration</em></a>.
    Within that chapter, build macros are explained in <a class="xref" href="cha-obs-prjconfig.html#sec-prjconfig-macros" title="4.4. Macro Definitions in the Build Configuration">Section 4.4, “Macro Definitions in the Build Configuration”</a>.
   </p></section><section class="sect2" id="id-1.2.10.3.4.6" data-id-title="An OBS Package"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.1.4 </span><span class="title-name">An OBS Package</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.4.6">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> An OBS Package is a sub-namespace below a project. It contains the
    specification of a single package build for all specified repositories.
   </p></section></section><section class="sect1" id="id-1.2.10.3.5" data-id-title="The OBS Interconnect"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">23.2 </span><span class="title-name">The OBS Interconnect</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.5">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> The OBS interconnect is a mechanism to connect two OBS instances. All
   content, including sources and binary build results, will be available in
   the connecting instance. Unlike other methods the instances will also notify
   each other about changes.
   
  </p></section><section class="sect1" id="concept-dod" data-id-title="Download on Demand Repositories (DoD)"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">23.3 </span><span class="title-name">Download on Demand Repositories (DoD)</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#concept-dod">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><section class="sect2" id="id-1.2.10.3.6.2" data-id-title="Motivation"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.3.1 </span><span class="title-name">Motivation</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.2">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> In a DoD repository external software repositories can be configured
   which are used for dependency resolution and where packages will be
   downloaded at build time. A DoD repository has some main advantages in
   comparison to binary import projects: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> less disk usage as only really required packages will be downloaded
    </p></li><li class="listitem"><p> automatic package updates when new upstream releases are available
    </p></li><li class="listitem"><p> simple to configure in project meta with no for shell access to repo
     servers </p></li></ul></div><p> In download repotypes where package checksums can be verified (e.g.
   susetags, rpmmd and deb), we recommend that you use a mirror server URL in
   &lt;download&gt; in order to reduce traffic on the master server and
   configure a &lt;master&gt; with an <code class="command">https</code> url and a
    <code class="command">sslfingerprint</code> in order to avoid man in the middle attacks by
   peer verification. </p></section><section class="sect2" id="id-1.2.10.3.6.3" data-id-title="XML Document Hierarchy"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.3.2 </span><span class="title-name">XML Document Hierarchy</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.3">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><div class="verbatim-wrap"><pre class="screen">&lt;project&gt;
  &lt;repository&gt;
    &lt;download&gt;
      &lt;master/&gt; (optional)
      &lt;pubkey/&gt; (optional)
    &lt;/download&gt;
  &lt;/repository&gt;
&lt;/project&gt;</pre></div></section><section class="sect2" id="id-1.2.10.3.6.4" data-id-title="The Daemon"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.3.3 </span><span class="title-name">The Daemon</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.4">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> The bs_dodup daemon periodically checks for new metadata in remote
   repositories. This daemon can be enabled for startup with the command</p><div class="verbatim-wrap"><pre class="screen">systemctl enable obsdodup.service</pre></div><p> and can be started with</p><div class="verbatim-wrap"><pre class="screen">systemctl start obsdodup.service</pre></div></section><section class="sect2" id="id-1.2.10.3.6.5" data-id-title="The download Element"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.3.4 </span><span class="title-name">The <code class="sgmltag-element">download</code> Element</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.5">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>mandatory attributes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> arch </p></li><li class="listitem"><p> url </p></li><li class="listitem"><p> repotype </p></li></ul></div></section><section class="sect2" id="id-1.2.10.3.6.6" data-id-title="The master Subelement"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.3.5 </span><span class="title-name">The <code class="sgmltag-element">master</code> Subelement</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.6">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> The <code class="command">&lt;master&gt;</code> tag as shown in the rpmmd
   example below is optional but strongly recommended for security reasons. </p><p> Verification is supported in the following repotypes</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> susetags </p></li><li class="listitem"><p> rpmmd </p></li><li class="listitem"><p> deb </p></li></ul></div><p> This option could be defined by any valid URL (HTTP and HTTPS) to the
   origin of the repository but it is strongly recommended to use
    <code class="command">https</code> with a <code class="command">sslfingerprint</code> to
   bs_dodup possibility to verify its peer in order to avoid man-in-the-middle
   attacks. The download URL can be a mirror as we validate package checksums
   found in repo data. </p><p> You can easily query the SSL fingerprint of a remote server with the
   following command:</p><div class="verbatim-wrap"><pre class="screen">openssl s_client -connect &lt;host&gt;:&lt;port&gt; &lt; /dev/null 2&gt;/dev/null | openssl x509 -fingerprint -noout</pre></div></section><section class="sect2" id="id-1.2.10.3.6.7" data-id-title="The pubkey Subelement"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.3.6 </span><span class="title-name">The <code class="sgmltag-element">pubkey</code> Subelement</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.7">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> The pubkey element contains one or more GPG public keys in order to
   verify repository information but not packages. For an example, look at the
   repotype "deb" documentation below. </p></section><section class="sect2" id="id-1.2.10.3.6.8" data-id-title="Repository Types"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.3.7 </span><span class="title-name">Repository Types</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.8">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><section class="sect3" id="id-1.2.10.3.6.8.3" data-id-title="YAST Sources (susetags)"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">23.3.7.1 </span><span class="title-name">YAST Sources (susetags)</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.8.3">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    <code class="command">Example:</code>
   </p><div class="verbatim-wrap"><pre class="screen">&lt;project name="My::SuSE::CD"&gt;

  [...]

  &lt;repository name="standard"&gt;
    &lt;download arch="x86_64" url="http://mirror.example.org/path/to/iso" repotype="susetags" /&gt;
    &lt;download arch="i586" url="http://mirror.example.org/path/to/iso" repotype="susetags" /&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
    &lt;arch&gt;i586&lt;/arch&gt;
  &lt;/repository&gt;
&lt;/project&gt;</pre></div></section><section class="sect3" id="id-1.2.10.3.6.8.4" data-id-title="RPM Sources (rpmmd)"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">23.3.7.2 </span><span class="title-name">RPM Sources (rpmmd)</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.8.4">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    <code class="command">Example:</code>
   </p><div class="verbatim-wrap"><pre class="screen">&lt;project name="Fedora:Rawhide"&gt;

  [...]

  &lt;repository name="standard"&gt;
    &lt;download arch="x86_64" url="http://mirror.example.org/fedora/rawhide/x86_64/os" repotype="rpmmd"&gt;
      &lt;master url="https://master.example.org/whereever/fedora/rawhide/x86_64/os" sslfingerprint="sha256:0a64..0303"/&gt;
    &lt;/download&gt;
    &lt;download arch="i586" url="http://mirror.example.org/fedora/rawhide/i386/os" repotype="rpmmd"&gt;
      &lt;master url="https://master.example.org/whereever/fedora/rawhide/i386/os" sslfingerprint="sha256:0a64..0303"/&gt;
    &lt;/download&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
    &lt;arch&gt;i586&lt;/arch&gt;
  &lt;/repository&gt;
&lt;/project&gt;</pre></div></section><section class="sect3" id="id-1.2.10.3.6.8.5" data-id-title="Apt Repository (deb)"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">23.3.7.3 </span><span class="title-name">Apt Repository (deb)</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.8.5">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> Apt supports two repository types, flat repositories and distribution
    repositories. </p><p> The download url syntax for them is: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> &lt;baseurl&gt;/&lt;distribution&gt;/&lt;components&gt; </p></li><li class="listitem"><p> &lt;flat_url&gt;/.[/&lt;components&gt;] </p></li></ul></div><p> You can specify multiple components separated by a comma. </p><p> An empty components string is parsed as "main". </p><p>
    <code class="command">Example:</code>
   </p><div class="verbatim-wrap"><pre class="screen">&lt;project name="Debian:8"&gt;

  [...]

  &lt;repository name="ga"&gt;
    &lt;download arch="x86_64" url="http://ftp.de.debian.org/debian/jessie/main" repotype="deb"&gt;
      &lt;pubkey&gt;
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.4.12 (GNU/Linux)

[...]

      &lt;/pubkey&gt;
    &lt;/download&gt;
    &lt;download arch="i586" url="http://ftp.de.debian.org/debian/jessie/main" repotype="deb"&gt;
      &lt;pubkey&gt;
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.4.12 (GNU/Linux)

[...]

      &lt;/pubkey&gt;
    &lt;/download&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
    &lt;arch&gt;i586&lt;/arch&gt;
  &lt;/repository&gt;
&lt;/project&gt;</pre></div></section><section class="sect3" id="id-1.2.10.3.6.8.6" data-id-title="Arch Repository (arch)"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">23.3.7.4 </span><span class="title-name">Arch Repository (arch)</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.8.6">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> Be aware that there is currently no way to verify the origin of
    repository for Arch. </p><p>
    <code class="command">Example:</code>
   </p><div class="verbatim-wrap"><pre class="screen">&lt;project name="Arch:Core"&gt;

  [...]

  &lt;repository name="standard"&gt;
    &lt;download arch="x86_64" url="http://ftp5.gwdg.de/pub/linux/archlinux/core/os/x86_64" repotype="arch"/&gt;
    &lt;download arch="i586" url="http://ftp5.gwdg.de/pub/linux/archlinux/core/os/i686" repotype="arch"/&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
    &lt;arch&gt;i586&lt;/arch&gt;
  &lt;/repository&gt;
&lt;/project&gt;</pre></div></section><section class="sect3" id="id-1.2.10.3.6.8.7" data-id-title="Mandriva Repository (mdk)"><div class="titlepage"><div><div><div class="title-container"><h4 class="title"><span class="title-number-name"><span class="title-number">23.3.7.5 </span><span class="title-name">Mandriva Repository (mdk)</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.6.8.7">#</a></h4><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p>
    <code class="command">Example:</code>
   </p><div class="verbatim-wrap"><pre class="screen">&lt;project name="Mageia:5"&gt;

  [...]

  &lt;repository name="standard"&gt;
    &lt;download arch="x86_64" url="http://mirror.example.org/Mageia/distrib/5/x86_64/media/core/release" repotype="mdk"/&gt;
    &lt;download arch="i586" url="http://mirror.example.org/mirrors/Mageia/distrib/5/i586/media/core/release" repotype="mdk"/&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
    &lt;arch&gt;i586&lt;/arch&gt;
  &lt;/repository&gt;
&lt;/project&gt;</pre></div></section></section></section><section class="sect1" id="concept-scm-integration" data-id-title="Integrating External Source Repositories"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">23.4 </span><span class="title-name">Integrating External Source Repositories</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#concept-scm-integration">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><section class="sect2" id="id-1.2.10.3.7.2" data-id-title="Motivation"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.4.1 </span><span class="title-name">Motivation</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.7.2">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> This chapter makes some recommendations how upstream resources can be
   integrated into the build process. SCM stands for source control management.
   git, subversion or CVS are concrete implementations of an SCM. The OBS
   itself comes also with an own SCM, but this is only intended to manage the
   files needed for packaging. However, you can add references to external SCM
   systems. The source service system will mirror the sources and provide it to
   the build systems. OBS makes sure that you can access the sources of all
   builds also in the future, even when the upstream server delivers different
   or no content at all anymore. Using external SCM references has the
   following advantages: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p> It is documented where a source comes from and how to create the
     archive. </p></li><li class="listitem"><p> Working on the upstream sources can be done directly in local
     checkouts and changes can be tested via local builds before pushing to the
     SCM server. </p></li><li class="listitem"><p> The sources can be stored incrementally and need less storage on the
     server. </p></li></ul></div></section><section class="sect2" id="id-1.2.10.3.7.3" data-id-title="Creating an Reference to an External SCM"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.4.2 </span><span class="title-name">Creating an Reference to an External SCM</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.7.3">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> External references are defined in _service files. The file can look
   like this: </p><div class="verbatim-wrap"><pre class="screen">&lt;services&gt;
  &lt;service name="obs_scm"&gt;
    &lt;param name="url"&gt;git://...&lt;/param&gt;
    &lt;param name="scm"&gt;git&lt;/param&gt;
  &lt;/service&gt;
  &lt;service name="tar" mode="buildtime"/&gt;
  &lt;service name="recompress" mode="buildtime"&gt;
    &lt;param name="file"&gt;*.tar&lt;/param&gt;
    &lt;param name="compression"&gt;xz&lt;/param&gt;
  &lt;/service&gt;
  &lt;service name="set_version" mode="buildtime" /&gt;
&lt;/services&gt;</pre></div><p> The services do the following: </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     <code class="systemitem">obs_scm</code>: mirrors the source. It stores it as a
     cpio archive, but for the build process this looks like a directory. It
     also stores additional information from the metadata to a file with
     obsinfo suffix. </p></li><li class="listitem"><p>
     <code class="systemitem">tar</code>: creates a tar file from the directory
    </p></li><li class="listitem"><p>
     <code class="systemitem">recompress</code>: applies a compression on the tar file
    </p></li><li class="listitem"><p>
     <code class="systemitem">set_version</code>: reads the version from the obsinfo
     file and adapts the build descriptions to it. </p></li></ul></div><p> Note that only the first service (<code class="systemitem">obs_scm</code>)
   runs on the OBS server. The other services run during the build process.
   They can also be replaced by any user by providing alternative
   implementations of them, or by writing their own service from scratch.
  </p></section><section class="sect2" id="id-1.2.10.3.7.4" data-id-title="Working with Local Checkouts"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.4.3 </span><span class="title-name">Working with Local Checkouts</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.7.4">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> Using <code class="command">osc build</code> in any package with such a
   definition will do the same process locally. The only difference is that you
   get a local subdirectory with the SCM content. You can go inside and work as
   you are used to. Any changes inside will be used for your next local build,
   whether they were pushed to the upstream server or not. However, you need to
   push it upstream when you let the OBS server re-fetch the changes from
   upstream. The only way out would be to set the
    <code class="systemitem">obs_scm</code> service to mode disabled and upload your
   local archive. </p></section><section class="sect2" id="id-1.2.10.3.7.5" data-id-title="Managing Build Recipes in a SCM"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">23.4.4 </span><span class="title-name">Managing Build Recipes in a SCM</span></span> <a title="Permalink" class="permalink" href="cha-obs-concepts.html#id-1.2.10.3.7.5">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a></div></div></div></div></div><p> The <code class="systemitem">obs_scm</code> service allows you to export
   files next to the archive. You can specify one or more files using the
    <code class="literal">extract</code> parameter. Use it for your build recipe
   files. </p></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-obs-architecture.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 22 </span>OBS Architecture</span></a> </div><div><a class="pagination-link next" href="cha-obs-build-process.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Chapter 24 </span>Build Process</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-obs-concepts.html#id-1.2.10.3.4"><span class="title-number">23.1 </span><span class="title-name">Project Organization</span></a></span></li><li><span class="sect1"><a href="cha-obs-concepts.html#id-1.2.10.3.5"><span class="title-number">23.2 </span><span class="title-name">The OBS Interconnect</span></a></span></li><li><span class="sect1"><a href="cha-obs-concepts.html#concept-dod"><span class="title-number">23.3 </span><span class="title-name">Download on Demand Repositories (DoD)</span></a></span></li><li><span class="sect1"><a href="cha-obs-concepts.html#concept-scm-integration"><span class="title-number">23.4 </span><span class="title-name">Integrating External Source Repositories</span></a></span></li></ul></div> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE  2025</span></div></div></footer>
<script type="text/javascript" src="static/js/language-switcher.js"> </script></body></html>