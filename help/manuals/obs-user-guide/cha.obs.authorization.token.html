<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Authorization | User Guide</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" />
<meta name="title" content="Authorization" />
<meta name="description" content="Each package is signed with a PGP key to allow checking its integrity on user's machines." />
<meta name="book-title" content="User Guide" />
<meta name="chapter-title" content="Chapter 37. Authorization" />
<meta property="og:title" content="Authorization" />
<meta property="og:description" content="Each package is signed with a PGP key to allow checking its integrity on user's machines." />
<meta property="og:type" content="article" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Authorization" />
<meta name="twitter:description" content="Each package is signed with a PGP key to allow checking its integrity on user's machines." />
<link rel="home" href="index.html" title="OBS Documentation" /><link rel="up" href="par.reference.html" title="Part VI. Reference" /><link rel="prev" href="cha.obs.build_preinstall.html" title="Chapter 36. Building Preinstall Images" /><link rel="next" href="cha.obs.qa_hooks.html" title="Chapter 38. Quality Assurance(QA) Hooks" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css" /></noscript><script src="static/js/jquery-1.12.4.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.svg" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="User Guide"><span class="book-icon">User Guide</span></a><span> › </span><a class="crumb" href="par.reference.html">Reference</a><span> › </span><a class="crumb" href="cha.obs.authorization.token.html">Authorization</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>User Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="bk02pr01.html"><span class="number"> </span><span class="name">About this Guide</span></a></li><li class="inactive"><a href="par.first_steps.html"><span class="number">I </span><span class="name">First Steps</span></a><ol><li class="inactive"><a href="art.obs.bg.html"><span class="number">1 </span><span class="name">Beginnerʼs Guide</span></a></li></ol></li><li class="inactive"><a href="par.concepts.html"><span class="number">II </span><span class="name">Concepts</span></a><ol><li class="inactive"><a href="cha.obs.package_formats.html"><span class="number">2 </span><span class="name">Supported Build Recipes and Package Formats</span></a></li></ol></li><li class="inactive"><a href="bk02pt03.html"><span class="number">III </span><span class="name">Setup</span></a><ol><li class="inactive"><a href="cha.obs.osc.html"><span class="number">3 </span><span class="name">osc, the Command Line Tool</span></a></li><li class="inactive"><a href="cha.obs.prjconfig.html"><span class="number">4 </span><span class="name">Project Configuration</span></a></li></ol></li><li class="inactive"><a href="par.working.html"><span class="number">IV </span><span class="name">Usage</span></a><ol><li class="inactive"><a href="cha.obs.basicworkflow.html"><span class="number">5 </span><span class="name">Basic OBS Workflow</span></a></li><li class="inactive"><a href="cha.obs.building.html"><span class="number">6 </span><span class="name">Local Building</span></a></li><li class="inactive"><a href="cha.obs.source_service.html"><span class="number">7 </span><span class="name">Using Source Services</span></a></li><li class="inactive"><a href="cha.obs.scm_ci_workflow_integration.html"><span class="number">8 </span><span class="name">SCM/CI Workflow Integration</span></a></li><li class="inactive"><a href="cha.obs.stagingworkflow.html"><span class="number">9 </span><span class="name">Staging Workflow</span></a></li><li class="inactive"><a href="cha.obs.notifications.html"><span class="number">10 </span><span class="name">Notifications</span></a></li><li class="inactive"><a href="cha.obs.moderation.html"><span class="number">11 </span><span class="name">Moderation</span></a></li></ol></li><li class="inactive"><a href="par.best_practices.html"><span class="number">V </span><span class="name">Best Practices</span></a><ol><li class="inactive"><a href="cha.obs.best-practices.webuiusage.html"><span class="number">12 </span><span class="name">Using the OBS Web UI</span></a></li><li class="inactive"><a href="cha.obs.best-practices.basics.html"><span class="number">13 </span><span class="name">Basic Concepts and Work Styles</span></a></li><li class="inactive"><a href="cha.obs.best-practices.scm_integration.html"><span class="number">14 </span><span class="name">How to integrate external SCM sources</span></a></li><li class="inactive"><a href="cha.obs.best-practices.upstream.html"><span class="number">15 </span><span class="name">Publishing Upstream Binaries</span></a></li><li class="inactive"><a href="cha.obs.best-practices.bootstrapping.html"><span class="number">16 </span><span class="name">Bootstrapping</span></a></li><li class="inactive"><a href="cha.obs.best-practices.oscexamples.html"><span class="number">17 </span><span class="name"><code class="command">osc</code> Example Commands</span></a></li><li class="inactive"><a href="cha.obs.best-practices.advanced.html"><span class="number">18 </span><span class="name">Advanced Project Setups</span></a></li><li class="inactive"><a href="cha.obs.best-practices.kmp.html"><span class="number">19 </span><span class="name">Building Kernel Modules</span></a></li><li class="inactive"><a href="cha.obs.best-practices.howto.html"><span class="number">20 </span><span class="name">Common Questions and Solutions</span></a></li></ol></li><li class="inactive"><a href="par.reference.html"><span class="number">VI </span><span class="name">Reference</span></a><ol><li class="inactive"><a href="cha.obs.architecture.html"><span class="number">21 </span><span class="name">OBS Architecture</span></a></li><li class="inactive"><a href="cha.obs.concepts.html"><span class="number">22 </span><span class="name">OBS Concepts</span></a></li><li class="inactive"><a href="cha.obs.build_process.html"><span class="number">23 </span><span class="name">Build Process</span></a></li><li class="inactive"><a href="cha.obs.build_containers.html"><span class="number">24 </span><span class="name">Build Containers</span></a></li><li class="inactive"><a href="cha.obs.source_management.html"><span class="number">25 </span><span class="name">Source Management</span></a></li><li class="inactive"><a href="cha.obs.scm_bridge.html"><span class="number">26 </span><span class="name">SCM Bridge</span></a></li><li class="inactive"><a href="cha.obs.supported_formats.html"><span class="number">27 </span><span class="name">Supported Formats</span></a></li><li class="inactive"><a href="cha.obs.request_and_review_system.html"><span class="number">28 </span><span class="name">Request And Review System</span></a></li><li class="inactive"><a href="cha.obs.image_templates.html"><span class="number">29 </span><span class="name">Image Templates</span></a></li><li class="inactive"><a href="cha.obs.multibuild.html"><span class="number">30 </span><span class="name">Multiple Build Description File Handling</span></a></li><li class="inactive"><a href="cha.obs.maintenance_setup.html"><span class="number">31 </span><span class="name">Maintenance Support</span></a></li><li class="inactive"><a href="cha.obs.binary_tracking.html"><span class="number">32 </span><span class="name">Binary Package Tracking</span></a></li><li class="inactive"><a href="cha.obs.admin.html"><span class="number">33 </span><span class="name">Administration</span></a></li><li class="inactive"><a href="cha.obs.build_scheduling_and_dispatching.html"><span class="number">34 </span><span class="name">Scheduling and Dispatching</span></a></li><li class="inactive"><a href="cha.obs.build_constraints.html"><span class="number">35 </span><span class="name">Build Constraints</span></a></li><li class="inactive"><a href="cha.obs.build_preinstall.html"><span class="number">36 </span><span class="name">Building Preinstall Images</span></a></li><li class="inactive"><a href="cha.obs.authorization.token.html"><span class="number">37 </span><span class="name">Authorization</span></a></li><li class="inactive"><a href="cha.obs.qa_hooks.html"><span class="number">38 </span><span class="name">Quality Assurance(QA) Hooks</span></a></li><li class="inactive"><a href="cha.obs.factory.html"><span class="number">39 </span><span class="name">openSUSE Factory</span></a></li></ol></li><li class="inactive"><a href="obs.glossary.html"><span class="number"> </span><span class="name">Glossary</span></a></li><li class="inactive"><a href="bk02apa.html"><span class="number">A </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Chapter 36. Building Preinstall Images" href="cha.obs.build_preinstall.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 38. Quality Assurance(QA) Hooks" href="cha.obs.qa_hooks.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="User Guide"><span class="book-icon">User Guide</span></a><span> › </span><a class="crumb" href="par.reference.html">Reference</a><span> › </span><a class="crumb" href="cha.obs.authorization.token.html">Authorization</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Chapter 36. Building Preinstall Images" href="cha.obs.build_preinstall.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Chapter 38. Quality Assurance(QA) Hooks" href="cha.obs.qa_hooks.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class=""><div class="documentation"><div class="chapter " id="cha.obs.authorization.token"><div class="titlepage"><div><div><h2 class="title"><span class="number">37 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Authorization</span> <a title="Permalink" class="permalink" href="cha.obs.authorization.token.html#">#</a></h2></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.obs.authorization.token.html#id-1.5.10.18.3"><span class="number">37.1 </span><span class="name">OBS Authorization Methods</span></a></span></dt><dt><span class="sect1"><a href="cha.obs.authorization.token.html#id-1.5.10.18.4"><span class="number">37.2 </span><span class="name">OBS Token Authorization</span></a></span></dt></dl></div></div><div class="sect1 " id="id-1.5.10.18.3"><div class="titlepage"><div><div><h2 class="title"><span class="number">37.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">OBS Authorization Methods</span> <a title="Permalink" class="permalink" href="cha.obs.authorization.token.html#id-1.5.10.18.3">#</a></h2></div></div></div><p> Each package is signed with a PGP key to allow checking its integrity
   on user's machines. </p><div class="sect2 " id="id-1.5.10.18.3.3"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.1.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Default Mode</span> <a title="Permalink" class="permalink" href="cha.obs.authorization.token.html#id-1.5.10.18.3.3">#</a></h3></div></div></div><p> OBS provides its own user database which can also store a password.
    The authentication to the API happens via HTTP BASIC AUTH. See the API
    documentation to find out how to create, modify or delete user data. Also a
    call for changing the password exists. </p></div><div class="sect2 " id="id-1.5.10.18.3.4"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.1.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Proxy Mode</span> <a title="Permalink" class="permalink" href="cha.obs.authorization.token.html#id-1.5.10.18.3.4">#</a></h3></div></div></div><p> The proxy mode can be used for esp. secured instances, where the OBS
    web server shall not get connected to the network directly. There are
    authentication proxy products out there which do the authentication and
    send the user name via an HTTP header to OBS. This also has the advantage
    that the user password never reaches OBS. </p></div><div class="sect2 " id="id-1.5.10.18.3.5"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.1.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">LDAP Mode</span> <a title="Permalink" class="permalink" href="cha.obs.authorization.token.html#id-1.5.10.18.3.5">#</a></h3></div></div></div><p> LDAP authentication code is still part of OBS, but due to the lack of
    any test cases it is currently not recommended to use it. </p></div></div><div class="sect1 " id="id-1.5.10.18.4"><div class="titlepage"><div><div><h2 class="title"><span class="number">37.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">OBS Token Authorization</span> <a title="Permalink" class="permalink" href="cha.obs.authorization.token.html#id-1.5.10.18.4">#</a></h2></div></div></div><p> OBS provides a mechanism to create tokens for specific operations.
   This can be used to allow certain operations in the name of a user to
   others. This is esp. useful when integrating external infrastructure. The
   create token should be kept secret by default, but it can also be revoked at
   any time if it became obsolete or leaked. </p><div class="sect2 " id="id-1.5.10.18.4.3"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Managing User Tokens</span> <a title="Permalink" class="permalink" href="cha.obs.authorization.token.html#id-1.5.10.18.4.3">#</a></h3></div></div></div><p> Tokens always belong to a user. A list of active tokens can be viewed
    using </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc token</code></pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">osc token --delete &lt;TOKEN&gt;</code></pre></div></div><div class="sect2 " id="id-1.5.10.18.4.4"><div class="titlepage"><div><div><h3 class="title"><span class="number">37.2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Executing an Action</span> <a title="Permalink" class="permalink" href="cha.obs.authorization.token.html#id-1.5.10.18.4.4">#</a></h3></div></div></div><p> A token can be used to execute specific operations. This can be a 
	   source service trigger, a rebuild call, or release action. The setup needs
	   to be prepared for the action. For example a source service for that can
	   be setup with:</p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> add git://....</pre></div><p> The best way to create a token is bind it to a specific package. The
    advantage is that the operation is limited to that package, so less bad
    things can happen when the token leaks. </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --create &lt;PROJECT&gt; &lt;PACKAGE&gt;</pre></div><p> Also, you do not need to specify the package at execution time. But
    keep in mind that such form only works when you run it on an as checkout of
    a package. Both commands below do the same thing but in a different way:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --trigger &lt;TOKEN&gt;</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> api -X POST /trigger/runservice?token=&lt;TOKEN&gt;</pre></div><p> A token can be registered as generic token, means allowing to execute
    all source services in OBS if the user has permissions. You can create such
    a token by skipping project/package on creation command: </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --create</pre></div><p>
    In this case, you are forced to specify project/package along with the
    token. On the other hand, you are not limited from where you execute it.
    Again, two examples doing same thing:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --trigger &lt;TOKEN&gt; &lt;PROJECT&gt; &lt;PACKAGE&gt;</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">curl</code> -H "Authorization: Token &lt;TOKEN&gt;" -X POST https://$obs_instance/trigger/runservice?project=&lt;PROJECT&gt;&amp;package=&lt;PACKAGE&gt;</pre></div><p> You can also limit the token to a specific package. The advantage is
    that the operation is limited to that package, so less bad things can
    happen when the token leaks. Also you do not need to specify the package on
    execution time. Create and execute it with:</p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --create &lt;PROJECT&gt; &lt;PACKAGE&gt;</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --trigger &lt;TOKEN&gt;</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">curl</code> -H "Authorization: Token &lt;TOKEN&gt;" -X POST /trigger/runservice</pre></div><p>A token to rebuild a package can be created and trigger by </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --opertion rebuild --create &lt;PROJECT&gt; &lt;PACKAGE&gt;</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --operation rebuild --trigger &lt;TOKEN&gt;</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">curl</code> -H "Authorization: Token &lt;TOKEN&gt;" -X POST https://$obs_instance/trigger/rebuild</pre></div><p>A token to release a package can be created and trigger by </p><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --opertion release --create &lt;PROJECT&gt; &lt;PACKAGE&gt;</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">osc</code> token --operation release --trigger &lt;TOKEN&gt;</pre></div><div class="verbatim-wrap"><pre class="screen"><code class="command">curl</code> -H "Authorization: Token &lt;TOKEN&gt;" -X POST https://$obs_instance/trigger/release</pre></div></div></div></div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="cha.obs.qa_hooks.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Chapter 38 </span>Quality Assurance(QA) Hooks</span></a><a class="nav-link" href="cha.obs.build_preinstall.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Chapter 36 </span>Building Preinstall Images</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2024 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>