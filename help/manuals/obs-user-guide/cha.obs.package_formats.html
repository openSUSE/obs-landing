<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Supported Build Recipes and Package Formats | User Guide</title><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" /><link rel="stylesheet" type="text/css" href="static/css/style.css" /><link rel="stylesheet" type="text/css" href="static/css/highlight.css" /><meta name="generator" content="DAPS 3.2.0 (https://opensuse.github.io/daps) using SUSE XSL Stylesheets 2.81.0 (based on DocBook XSL Stylesheets snapshot) - chunked" /><meta name="book-title" content="User Guide" /><meta name="chapter-title" content="Chapter 2. Supported Build Recipes and Package Formats" /><meta name="description" content="OBS differentiates between the format of the build recipes and the format of the installed packages. For example, the spec recipe format is used to build RPM packages by calling rpmbuild." /><link rel="home" href="index.html" title="OBS Documentation" /><link rel="up" href="par.concepts.html" title="Part II. Concepts" /><link rel="prev" href="par.concepts.html" title="Part II. Concepts" /><link rel="next" href="bk02pt03.html" title="Part III. Setup" />
<script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css"></link>');
}
else {
  document.write('<link rel="stylesheet" type="text/css" href="static/css/fonts-onlylocal.css"></link>');
}

</script><noscript><link rel="stylesheet" type="text/css" href="https://static.opensuse.org/fonts/fonts.css" /></noscript><script src="static/js/jquery-1.10.2.min.js" type="text/javascript"></script><script src="static/js/script.js" type="text/javascript"></script><script src="static/js/highlight.min.js" type="text/javascript"></script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script></head><body class="offline js-off"><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-navigation">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><div id="_outer-wrap"><div id="_white-bg"><div id="_header"><div id="_logo"><img src="static/images/logo.png" alt="Logo" /></div><div class="crumbs"><a class="book-link" href="index.html" title="User Guide"><span class="book-icon">User Guide</span></a><span> › </span><a class="crumb" href="par.concepts.html">Concepts</a><span> › </span><a class="crumb" href="cha.obs.package_formats.html">Supported Build Recipes and Package Formats</a></div><div class="clearme"></div></div></div><div id="_toolbar-wrap"><div id="_toolbar"><div id="_toc-area" class="inactive"><a id="_toc-area-button" class="tool" title="Contents" accesskey="c" href="index.html"><span class="tool-spacer"><span class="toc-icon">Contents</span><span class="clearme"></span></span><span class="tool-label">Contents</span></a><div class="active-contents bubble-corner"></div><div class="active-contents bubble"><div class="bubble-container"><h6>User Guide</h6><div id="_bubble-toc"><ol><li class="inactive"><a href="bk02pr01.html"><span class="number"> </span><span class="name">About this Guide</span></a></li><li class="inactive"><a href="par.first_steps.html"><span class="number">I </span><span class="name">First Steps</span></a><ol><li class="inactive"><a href="art.obs.bg.html"><span class="number">1 </span><span class="name">Beginnerʼs Guide</span></a></li></ol></li><li class="inactive"><a href="par.concepts.html"><span class="number">II </span><span class="name">Concepts</span></a><ol><li class="inactive"><a href="cha.obs.package_formats.html"><span class="number">2 </span><span class="name">Supported Build Recipes and Package Formats</span></a></li></ol></li><li class="inactive"><a href="bk02pt03.html"><span class="number">III </span><span class="name">Setup</span></a><ol><li class="inactive"><a href="cha.obs.osc.html"><span class="number">3 </span><span class="name">osc, the Command Line Tool</span></a></li><li class="inactive"><a href="cha.obs.prjconfig.html"><span class="number">4 </span><span class="name">Project Configuration</span></a></li></ol></li><li class="inactive"><a href="par.working.html"><span class="number">IV </span><span class="name">Usage</span></a><ol><li class="inactive"><a href="cha.obs.basicworkflow.html"><span class="number">5 </span><span class="name">Basic OBS Workflow</span></a></li><li class="inactive"><a href="cha.obs.building.html"><span class="number">6 </span><span class="name">Local Building</span></a></li><li class="inactive"><a href="cha.obs.source_service.html"><span class="number">7 </span><span class="name">Using Source Services</span></a></li><li class="inactive"><a href="cha.obs.stagingworkflow.html"><span class="number">8 </span><span class="name">Staging Workflow</span></a></li></ol></li><li class="inactive"><a href="par.best_practices.html"><span class="number">V </span><span class="name">Best Practices</span></a><ol><li class="inactive"><a href="cha.obs.best-practices.webuiusage.html"><span class="number">9 </span><span class="name">Using the OBS Web UI</span></a></li><li class="inactive"><a href="cha.obs.best-practices.basics.html"><span class="number">10 </span><span class="name">Basic Concepts and Work Styles</span></a></li><li class="inactive"><a href="cha.obs.best-practices.scm_integration.html"><span class="number">11 </span><span class="name">How to integrate external SCM sources</span></a></li><li class="inactive"><a href="cha.obs.best-practices.upstream.html"><span class="number">12 </span><span class="name">Publishing Upstream Binaries</span></a></li><li class="inactive"><a href="cha.obs.best-practices.bootstrapping.html"><span class="number">13 </span><span class="name">Bootstrapping</span></a></li><li class="inactive"><a href="cha.obs.best-practices.oscexamples.html"><span class="number">14 </span><span class="name"><code class="command">osc</code> Example Commands</span></a></li><li class="inactive"><a href="cha.obs.best-practices.advanced.html"><span class="number">15 </span><span class="name">Advanced Project Setups</span></a></li><li class="inactive"><a href="cha.obs.best-practices.kmp.html"><span class="number">16 </span><span class="name">Building Kernel Modules</span></a></li><li class="inactive"><a href="cha.obs.best-practices.howto.html"><span class="number">17 </span><span class="name">Common Questions and Solutions</span></a></li></ol></li><li class="inactive"><a href="par.reference.html"><span class="number">VI </span><span class="name">Reference</span></a><ol><li class="inactive"><a href="cha.obs.architecture.html"><span class="number">18 </span><span class="name">OBS Architecture</span></a></li><li class="inactive"><a href="cha.obs.concepts.html"><span class="number">19 </span><span class="name">OBS Concepts</span></a></li><li class="inactive"><a href="cha.obs.build_process.html"><span class="number">20 </span><span class="name">Build Process</span></a></li><li class="inactive"><a href="cha.obs.build_containers.html"><span class="number">21 </span><span class="name">Build Containers</span></a></li><li class="inactive"><a href="cha.obs.source_management.html"><span class="number">22 </span><span class="name">Source Management</span></a></li><li class="inactive"><a href="cha.obs.supported_formats.html"><span class="number">23 </span><span class="name">Supported Formats</span></a></li><li class="inactive"><a href="cha.obs.request_and_review_system.html"><span class="number">24 </span><span class="name">Request And Review System</span></a></li><li class="inactive"><a href="cha.obs.image_templates.html"><span class="number">25 </span><span class="name">Image Templates</span></a></li><li class="inactive"><a href="cha.obs.multibuild.html"><span class="number">26 </span><span class="name">Multiple Build Description File Handling</span></a></li><li class="inactive"><a href="cha.obs.maintenance_setup.html"><span class="number">27 </span><span class="name">Maintenance Support</span></a></li><li class="inactive"><a href="cha.obs.binary_tracking.html"><span class="number">28 </span><span class="name">Binary Package Tracking</span></a></li><li class="inactive"><a href="cha.obs.admin.html"><span class="number">29 </span><span class="name">Administration</span></a></li><li class="inactive"><a href="cha.obs.build_scheduling_and_dispatching.html"><span class="number">30 </span><span class="name">Scheduling and Dispatching</span></a></li><li class="inactive"><a href="cha.obs.build_job_constraints.html"><span class="number">31 </span><span class="name">Build Job Constraints</span></a></li><li class="inactive"><a href="cha.obs.build_preinstall.html"><span class="number">32 </span><span class="name">Building Preinstall Images</span></a></li><li class="inactive"><a href="cha.obs.authorization.token.html"><span class="number">33 </span><span class="name">Authorization</span></a></li><li class="inactive"><a href="cha.obs.qa_hooks.html"><span class="number">34 </span><span class="name">Quality Assurance(QA) Hooks</span></a></li><li class="inactive"><a href="cha.obs.factory.html"><span class="number">35 </span><span class="name">openSUSE Factory</span></a></li></ol></li><li class="inactive"><a href="obs.glossary.html"><span class="number"> </span><span class="name">Glossary</span></a></li><li class="inactive"><a href="bk02apa.html"><span class="number">A </span><span class="name">GNU Licenses</span></a></li></ol></div><div class="clearme"></div></div></div></div><div id="_nav-area" class="inactive"><div class="tool"><span class="nav-inner"><span class="tool-label">Navigation</span><a accesskey="p" class="tool-spacer" title="Part II. Concepts" href="par.concepts.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part III. Setup" href="bk02pt03.html"><span class="next-icon">→</span></a></span></div></div></div></div><div id="_fixed-header-wrap" class="inactive"><div id="_fixed-header"><div class="crumbs"><a class="book-link" href="index.html" title="User Guide"><span class="book-icon">User Guide</span></a><span> › </span><a class="crumb" href="par.concepts.html">Concepts</a><span> › </span><a class="crumb" href="cha.obs.package_formats.html">Supported Build Recipes and Package Formats</a></div><div class="buttons"><a class="top-button button" href="#">Top</a><div class="button"><a accesskey="p" class="tool-spacer" title="Part II. Concepts" href="par.concepts.html"><span class="prev-icon">←</span></a><a accesskey="n" class="tool-spacer" title="Part III. Setup" href="bk02pt03.html"><span class="next-icon">→</span></a></div><div class="clearme"></div></div><div class="clearme"></div></div></div><div id="_content" class=""><div class="documentation"><div class="chapter " id="cha.obs.package_formats"><div class="titlepage"><div><div><h2 class="title"><span class="number">2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Supported Build Recipes and Package Formats</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#">#</a></h2></div></div></div><div class="line"><div class="toc"><dl><dt><span class="sect1"><a href="cha.obs.package_formats.html#id-1.5.6.2.5"><span class="number">2.1 </span><span class="name">About Formats</span></a></span></dt><dt><span class="sect1"><a href="cha.obs.package_formats.html#id-1.5.6.2.6"><span class="number">2.2 </span><span class="name">RPM: Spec</span></a></span></dt><dt><span class="sect1"><a href="cha.obs.package_formats.html#id-1.5.6.2.7"><span class="number">2.3 </span><span class="name">Debian: Dsc</span></a></span></dt><dt><span class="sect1"><a href="cha.obs.package_formats.html#id-1.5.6.2.8"><span class="number">2.4 </span><span class="name">Arch: pkg</span></a></span></dt><dt><span class="sect1"><a href="cha.obs.package_formats.html#_kiwi_appliance"><span class="number">2.5 </span><span class="name">KIWI Appliance</span></a></span></dt><dt><span class="sect1"><a href="cha.obs.package_formats.html#id-1.5.6.2.10"><span class="number">2.6 </span><span class="name">SimpleImage</span></a></span></dt><dt><span class="sect1"><a href="cha.obs.package_formats.html#id-1.5.6.2.11"><span class="number">2.7 </span><span class="name">AppImage</span></a></span></dt><dt><span class="sect1"><a href="cha.obs.package_formats.html#sec.pkgfmt.flatpak"><span class="number">2.8 </span><span class="name">Flatpak</span></a></span></dt></dl></div></div>
 
 
 
 

 <div class="sect1 " id="id-1.5.6.2.5"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.1 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">About Formats</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.5">#</a></h2></div></div></div>
  
  
  <p> OBS differentiates between the format of the build recipes and the
   format of the installed packages. For example, the spec recipe format is
   used to build RPM packages by calling <code class="command">rpmbuild</code>. </p>
  <p> In most cases, the build result format is the same as the package
   format used for setting up the build environment, but sometimes the format
   is different. An example is the KIWI build recipe format, which can build
    ISOs, but uses RPM packages to set up the build process.
  </p>
  <p> OBS currently supports the following build recipe formats and packages:
  </p>
  <div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Supported Package Formats </span><a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.5.6">#</a></h6></div><ul class="itemizedlist"><li class="listitem ">
    <p>RPM package format, used for all RPM-based distributions like
     openSUSE, SUSE Linux Enterprise, Fedora, and others.</p>
   </li><li class="listitem ">
    <p>DEB package format, used in Debian, Ubuntu, and derived
     distributions</p>
   </li><li class="listitem ">
    <p>Arch package format, used by Arch Linux</p>
   </li></ul></div>

  <div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Supported Build Recipe Formats </span><a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.5.7">#</a></h6></div><ul class="itemizedlist"><li class="listitem ">
    <p>Spec format for RPM packages</p>
   </li><li class="listitem ">
    <p>Dsc format for DEB packages</p>
   </li><li class="listitem ">
    <p>KIWI format, both product and appliances</p>
   </li><li class="listitem ">
    <p>preinstallimage</p>
   </li><li class="listitem ">
    <p>SimpleImage format</p>
   </li></ul></div>

  <p> If no build recipe format and binary format are specified in the project
   configuration, OBS tries to deduce them from the preinstall list, which
   includes the name of the used package manager.
   This means that you need to manually configure the
    <code class="literal">kiwi</code> build recipe, as an RPM package format will select
    <code class="literal">spec</code> builds as default. This configuration is done by
   adding a <code class="literal">Type</code> line to the project configuration. </p>
 </div>

 <div class="sect1 " id="id-1.5.6.2.6"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.2 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">RPM: Spec</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.6">#</a></h2></div></div></div>
  
  <p>
   RPM (RPM Package Manager) is used on openSUSE, SUSE Linux Enterprise, Red Hat, Fedora,
   and other distributions. For building RPMs you need:
  </p>
  <div class="variablelist "><dl class="variablelist"><dt id="id-1.5.6.2.6.3.1"><span class="term "><code class="filename">.spec</code></span></dt><dd>
     <p>
      the <em class="firstterm ">spec file</em> for each package containing
      metadata and build instructions. OBS parses the spec file's
      BuildRequires lines to get a list of package dependencies. OBS uses this
      information to both build the packages in the correct order and also for
      setting up the build environment. The parser understands most of RPMs
      macro handling, so it is possible to use architecture specific
      BuildRequires, conditional builds and other advanced RPM features.
     </p>
    </dd><dt id="id-1.5.6.2.6.3.2"><span class="term "><code class="filename">.changes</code></span></dt><dd>
     <p>the file which contains the changelog.</p>
    </dd></dl></div>
 </div>

 <div class="sect1 " id="id-1.5.6.2.7"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.3 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Debian: Dsc</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.7">#</a></h2></div></div></div>
  
  <p>
   DEB packages are used on all Debian or Ubuntu based distributions.
   For building <code class="filename">.deb</code> files, you need:
  </p>
  <div class="variablelist "><dl class="variablelist"><dt id="id-1.5.6.2.7.3.1"><span class="term "><code class="filename">debian.control</code></span></dt><dd>
     <p>The file contains the meta information for the package like the
      build dependencies or some description. </p>
    </dd><dt id="id-1.5.6.2.7.3.2"><span class="term "><code class="filename">debian.rules</code></span></dt><dd>
     <p>This file describes the build section of the DEB building process.
      There are the configure and make compile commands including other DEB
      building sections.</p>
    </dd><dt id="id-1.5.6.2.7.3.3"><span class="term "><code class="filename"><em class="replaceable ">PACKAGE</em>.dsc</code></span></dt><dd>
     <p>In this file you describe the package names of each subpackage and
      their dependency level. Unlike RPM, the release numbers are not increased
      automatically during build unless the keyword
      <code class="varname">DEBTRANSFORM-RELEASE</code> is added to the file.</p>
    </dd></dl></div>
 </div>

 <div class="sect1 " id="id-1.5.6.2.8"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.4 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Arch: pkg</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.8">#</a></h2></div></div></div>
  
  <p>
   Pkg files is used on Arch Linux and its derivatives. For building
   Pkg you need:
  </p>
  <div class="variablelist "><dl class="variablelist"><dt id="id-1.5.6.2.8.3.1"><span class="term "><code class="filename">PKGBUILD</code></span></dt><dd>
     <p>
      It contains the build description and the source tarball. The file
       <code class="filename">PKGBUILD</code> does not have macros like
       <code class="literal">%{buildroot}</code>. It contains variables, for example,
        <code class="literal">makedepends=(<em class="replaceable ">PACKAGE1</em>,
        <em class="replaceable ">PACKAGE2</em>)</code>. These variables are
      parsed by OBS and uses them as dependencies. On Arch Linux you typically
      build packages without subpackage. They are no <span class="package ">*-dev</span>
      or <span class="package ">*-devel</span> packages.
     </p>
    </dd></dl></div>
 </div>

 



 <div class="sect1 " id="_kiwi_appliance"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.5 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">KIWI Appliance</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#_kiwi_appliance">#</a></h2></div></div></div>
  
  <p>
   <a class="ulink" href="https://github.com/OSInside/kiwi" target="_blank">KIWI<span class="ulink-url"> (https://github.com/OSInside/kiwi)</span></a> is an OS
   appliance builder that builds images for various formats, starting from
   hardware images, virtualization systems like QEMU/KVM, Xen and VMware,
   and more. It supports a wide range of architectures, which are x86, x86_64,
   s390 and ppc. </p>
  <p> For building an image in KIWI you need:</p>

  <div class="variablelist "><dl class="variablelist"><dt id="id-1.5.6.2.9.4.1"><span class="term "><code class="filename">my_image.kiwi</code></span></dt><dd>
     <p>
      Contains the image configuration in XML format. Full XML schema
      documentation can be found <a class="ulink" href="https://osinside.github.io/kiwi/image_description.html" target="_blank">https://osinside.github.io/kiwi/image_description.html</a>.
     </p>
    </dd><dt id="id-1.5.6.2.9.4.2"><span class="term "><code class="filename">config.sh</code> (optional)</span></dt><dd>
     <p>configuration script that runs
     at the end of the installation, but before package scripts have run.</p>
    </dd><dt id="id-1.5.6.2.9.4.3"><span class="term "><code class="filename">root/</code></span></dt><dd>
     <p>
      directory that contains files that will be applied to the built
      image after package installation. This can also be an archived and
      compressed directory, usually named <code class="filename">root.tar.gz</code>.
     </p>
    </dd></dl></div>

  <div id="id-1.5.6.2.9.5" class="admonition note normal"><img class="symbol" alt="Note" title="Note" src="static/images/icon-note.png" /><h6>Note</h6>
   <p> OBS only accepts KIWI configuration files with a <code class="filename">.kiwi</code> suffix. Other naming schemes KIWI
    supports like <code class="filename">config.xml</code>, are ignored in OBS.
   </p>
  </div>
  <p> For more information about building images with KIWI, see the <a class="ulink" href="https://osinside.github.io/kiwi/building_images.html" target="_blank">https://osinside.github.io/kiwi/building_images.html</a>.
  </p>
 </div>

 <div class="sect1 " id="id-1.5.6.2.10"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.6 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">SimpleImage</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.10">#</a></h2></div></div></div>
  
  <p>
   
   This format can be used to get simple rootfs tarball or squashfs
   image. It does not contain a bootloader or a kernel.
   For advanced features, use KIWI.
   Use SimpleImage for simple rootfs tarball/squashfs image of any
   distribution that is supported by OBS but does not have anything
   fancier than that. </p>

  <p>For building a SimpleImage, you need a <code class="filename">simpleimage</code>
   file. Be aware of the following points:
  </p>
  <div class="itemizedlist "><ul class="itemizedlist"><li class="listitem ">
    <p>SimpleImage uses a similar syntax than a spec file.</p>
   </li><li class="listitem ">
    <p>
     Supported tags include <code class="literal">Name</code>,
     <code class="literal">Version</code>, <code class="literal">BuildRequires</code>, and
    <code class="literal">#!BuildIgnore</code>.
    </p>
   </li><li class="listitem ">
    <p>Additional customization with <code class="literal">%build</code> phase
     is supported.</p>
   </li><li class="listitem ">
    <p>RPM macros are not supported, but <code class="varname">$SRCDIR</code> shell
     variable is available.</p>
   </li></ul></div>
  
  <div class="example" id="id-1.5.6.2.10.6"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 2.1: </span><span class="name">SimpleImage File (<code class="filename">simpleimage</code>) </span><a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.10.6">#</a></h6></div><div class="example-contents">
   
   <div class="verbatim-wrap"><pre class="screen">Name:           example-image
Version:        1.0
BuildRequire:   emacs
#!BuildIgnore:  gcc-c++

%build
# Set root password
passwd &lt;&lt; EOF
opensuse
opensuse
EOF

# Enable ssh
systemctl enable sshd</pre></div>
  </div></div>
 </div>

 <div class="sect1 " id="id-1.5.6.2.11"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.7 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">AppImage</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.11">#</a></h2></div></div></div>
  
  
 </div>

 <div class="sect1 " id="sec.pkgfmt.flatpak"><div class="titlepage"><div><div><h2 class="title"><span class="number">2.8 </span><span xmlns:dm="urn:x-suse:ns:docmanager" class="name">Flatpak</span> <a title="Permalink" class="permalink" href="cha.obs.package_formats.html#sec.pkgfmt.flatpak">#</a></h2></div></div></div>
  
  <p>
  The <a class="ulink" href="https://flatpak.org/" target="_blank">Flatpak<span class="ulink-url"> (https://flatpak.org/)</span></a> format can be used
  to generate desktop apps for Linux.
  </p>
  <p>
  For building an installable Flatpak bundle, you need a
  <code class="filename">flatpak.yaml</code> manifest file.
  See
  <a class="ulink" href="https://docs.flatpak.org/en/latest/manifests.html" target="_blank">Flatpak Manifests<span class="ulink-url"> (https://docs.flatpak.org/en/latest/manifests.html)</span></a>
  for the full documentation.
  </p>
  <p>
  Also some project and package configuration is necessary.
  </p>
  <div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Quick Start </span><a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.12.5">#</a></h6></div><ul class="itemizedlist"><li class="listitem "><p>
  To avoid having to enter the configuration manually, you can:
  </p></li><li class="listitem "><p>
  go to the
  <a class="ulink" href="https://build.opensuse.org/image_templates" target="_blank">Image Templates<span class="ulink-url"> (https://build.opensuse.org/image_templates)</span></a>
  and create a project from there, or
  </p></li><li class="listitem "><p>
  branch the
  <a class="ulink" href="https://build.opensuse.org/package/show/OBS:Flatpak:Templates/FlatpakTemplate" target="_blank">Template Package<span class="ulink-url"> (https://build.opensuse.org/package/show/OBS:Flatpak:Templates/FlatpakTemplate)</span></a>
  </p></li></ul></div>
  <div class="itemizedlist "><div class="itemizedlist-title-wrap"><h6 class="itemizedlist-title"><span class="name">Manifest Format </span><a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.12.6">#</a></h6></div><ul class="itemizedlist"><li class="listitem "><p>
  Input format is <a class="ulink" href="https://yaml.org" target="_blank">YAML<span class="ulink-url"> (https://yaml.org)</span></a>. Although
  flatpak also accepts JSON, we are using YAML in Open Build Service, because we have
  a special additional field in form of a YAML comment.
  </p></li><li class="listitem "><p>
  You can use JSON, as it is a subset of YAML. But be aware that flatpak
  accepts non-standard <code class="literal">//</code> comments, while Open Build Service does not.
  </p></li><li class="listitem "><p>
  <code class="literal">#!BuildVersion</code> - Use this field to specify the version
  of your app so the <code class="literal">.flatpak</code> file will be versioned.
  Flatpak manifests do not have a version field.
  </p></li><li class="listitem "><p>
  To learn YAML, have a look at this <a class="ulink" href="https://www.yaml.info/" target="_blank">YAML Tutorial<span class="ulink-url"> (https://www.yaml.info/)</span></a>.
  </p></li></ul></div>
  <p>
  The base images for Freedesktop, GNOME, KDE are maintained in the
  <a class="ulink" href="https://build.opensuse.org/project/show/OBS:Flatpak" target="_blank">OBS:Flatpak<span class="ulink-url"> (https://build.opensuse.org/project/show/OBS:Flatpak)</span></a>
  repository in form of rpm packages. They are generated by installing the
  images from <a class="ulink" href="https://flathub.org/" target="_blank">Flathub<span class="ulink-url"> (https://flathub.org/)</span></a>
  and packing the directories into a tar archive.
  </p>
  <div class="example" id="id-1.5.6.2.12.8"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 2.2: </span><span class="name">Flatpak Manifest (<code class="filename">flatpak.yaml</code>) </span><a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.12.8">#</a></h6></div><div class="example-contents">
   
   <div class="verbatim-wrap"><pre class="screen">######################################################
# Flatpak manifest example for Open Build Service
# https://docs.flatpak.org/en/latest/manifests.html
# Input should be YAML, even though the file can have
# a .json suffix (JSON is a subset of YAML).
# Don't use '//' comments!
######################################################

# Special OBS field because flatpak does not have a version field
# Default will be '0' if the field is missing.
#!BuildVersion: 3.14.15
---
app-id: org.gnome.Mahjongg
runtime: org.gnome.Platform
sdk: org.gnome.Sdk
runtime-version: '3.36'
command: gnome-mahjongg

finish-args:
  - --share=ipc
  - --socket=fallback-x11
  - --socket=wayland
  - --device=dri
  - --metadata=X-DConf=migrate-path=/org/gnome/Mahjongg/

cleanup:
  - "/share/man"

modules:
- name: gnome-mahjongg
  buildsystem: meson
  sources:
  - type: archive

    # Source archives should be put into the OBS package, but you can
    # keep the original URL from where it was downloaded here.
    url: https://download.gnome.org/sources/gnome-mahjongg/3.36/gnome-mahjongg-3.36.2.tar.xz

    # You can also just specify a simple filename
    # url: gnome-mahjongg-3.36.2.tar.xz

    # flatpak-builder will do a checksum
    sha256: 'd2e8f1563ee03d112a17042c4e99971295b36f3ba795c7d905d636cc94b8ae97'</pre></div>
  </div></div>
  <div class="example" id="id-1.5.6.2.12.9"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 2.3: </span><span class="name">Flatpak Project config (<code class="filename">prjconf</code>) </span><a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.12.9">#</a></h6></div><div class="example-contents">
   
   <div class="verbatim-wrap"><pre class="screen">Type: flatpak
Support: kmod-compat kernel-default perl-YAML-LibYAML</pre></div>
  </div></div>
  <div class="example" id="id-1.5.6.2.12.10"><div class="example-title-wrap"><h6 class="example-title"><span class="number">Example 2.4: </span><span class="name">Flatpak Project meta example </span><a title="Permalink" class="permalink" href="cha.obs.package_formats.html#id-1.5.6.2.12.10">#</a></h6></div><div class="example-contents">
   
   <div class="verbatim-wrap"><pre class="screen">&lt;project name="Your:Project:Name"&gt;
  &lt;title&gt;Title&lt;/title&gt;
  &lt;description&gt;Description&lt;/description&gt;
  &lt;repository name="openSUSE_Leap_15.2"&gt;
    &lt;path project="OBS:Flatpak" repository="openSUSE_Leap_15.2"/&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
  &lt;/repository&gt;
  &lt;repository name="openSUSE_Leap_15.1"&gt;
    &lt;path project="OBS:Flatpak" repository="openSUSE_Leap_15.1"/&gt;
    &lt;arch&gt;x86_64&lt;/arch&gt;
  &lt;/repository&gt;
&lt;/project&gt;</pre></div>
  </div></div>
 </div>
</div></div><div class="page-bottom"><div id="_bottom-navigation"><a class="nav-link" href="bk02pt03.html"><span class="next-icon">→</span><span class="nav-label"><span class="number">Part III </span>Setup</span></a><a class="nav-link" href="par.concepts.html"><span class="prev-icon">←</span><span class="nav-label"><span class="number">Part II </span>Concepts</span></a></div><div class="_share-print"><div class="online-contents share"><strong>Share this page: </strong><span class="share-buttons"><span class="_share-fb bottom-button">Facebook</span><span class="spacer"> • </span><span class="_share-in bottom-button">LinkedIn</span><span class="spacer"> • </span><span class="_share-tw bottom-button">Twitter</span><span class="spacer"> • </span><span class="_share-mail bottom-button">E-Mail</span></span></div><div class="print"><span class="_print-button bottom-button">Print this page</span></div><div class="clearme"></div></div></div></div><div id="_inward"></div></div><div id="_footer-wrap"><div id="_footer"><p>©
        2021 
        SUSE</p><ul><li><a href="https://jobs.suse.com/" target="_top">Careers</a></li><li><a href="https://www.suse.com/company/legal/" target="_top">Legal</a></li><li><a href="https://www.suse.com/company/about/" target="_top">About</a></li><li><a href="https://www.suse.com/contact/" target="_top">Contact Us</a></li></ul></div></div></body></html>